{"version":3,"sources":["../../js/main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function getRequest(searchTerm, max = 3, orderby = 'date', _pageToken = '') {\n  let params = {\n    part: 'snippet',\n    key: 'AIzaSyB9evlzwtgDeMvhbSA-zVYUBQf_K1jcWfc',\n    q: searchTerm + ' recipe',\n    type: 'video',\n    maxResults: max,\n    order: orderby,\n    regionCode: 'US',\n    fields: 'nextPageToken,prevPageToken,' +\n    'items(id(videoId)),' +\n    'items(snippet(title,thumbnails(high)))',\n    pageToken: _pageToken\n  }\n  let url = \"https://www.googleapis.com/youtube/v3/search\"\n  return [url, params]\n}\n\nlet thumbRecent = function (value, index) {\n  return {\n    index: index, thumb: `\n          <div class=\"col s12 m6 l4\">\n            <div class=\"card\">\n              <div class=\"card-image\">\n                <a href=\"https://www.youtube.com/watch?v=${value.id.videoId}\" target=\"_blank\">\n                  <img src=\"${value.snippet.thumbnails.high.url}\" alt=\"recent video ${index++}\" class=\"responsive-img\">\n                  <span class=\"card-title\">${value.snippet.title.toLowerCase()}</span>\n                </a>\n              </div>\n            </div>\n          </div>\n        `\n  }\n}\n\nlet thumbResult = function (value, index) {\n  const yt = 'https://www.youtube.com/'\n  const vId = value.id.videoId\n  return {\n    index: index, thumb: `\n        <div class=\"col s12 m6 l4\">\n          <div class=\"card\">\n            <div class=\"card-image\">\n              <a href=\"${yt}watch?v=${vId}\" class=\"recipe-video\" data-video=\"${yt}embed/${vId}?autoplay=1\">\n                <img src=\"${value.snippet.thumbnails.high.url}\" alt=\"recent video ${index++}\" class=\"responsive-img\">\n                <span class=\"card-title\">${value.snippet.title.toLowerCase()}</span>\n              </a>\n            </div>\n          </div>\n        </div>\n        `\n  }\n}\n\nfunction displayResults(url, params, el, thumbType) {\n  $.get(url, params, function (data) {\n    var $element = $(el)\n    $element.html('')\n    $('.btn-more').attr('next', data.nextPageToken)\n\n    let index = 1\n    for (let value of data.items) {\n      let __ret = thumbType(value, index)\n      index = __ret.index\n      let thumb = __ret.thumb\n      $element.append(thumb)\n    }\n  }, 'json')\n}\n\nlet getSearchTerm = () => {\n  return $('[name=recipe]').val()\n}\n\nlet popUpYT = function (e) {\n  e.preventDefault()\n  let embed = $(this).attr('data-video')\n  window.open(embed, '_blank', 'height=400,width=600,top=300,left=300')\n}\n\nlet showNextYT = function () {\n  displayResults(...getRequest(getSearchTerm(), undefined, undefined,\n    $('.btn-more').attr('next')), '.results.videos', thumbResult)\n}\n\n$(function () {\n  displayResults(...getRequest(''), '.recents.videos', thumbRecent)\n\n  $('#recipe-search, #recipe-search-sm').on('submit', (e) => {\n    e.preventDefault()\n    const searchTerm = getSearchTerm();\n    if (searchTerm === null || searchTerm.length < 2) return\n    displayResults(...getRequest(searchTerm, 6), '.results.videos', thumbResult)\n  })\n\n  $('.results.videos').on('click', '.recipe-video', popUpYT)\n\n  $('.btn-more').on('click', function () {\n    showNextYT()\n  })\n\n  $('a[href*=\"#\"]:not([href=\"#\"])').click(function() {\n    if (location.pathname.replace(/^\\//,'') == this.pathname.replace(/^\\//,'') && location.hostname == this.hostname) {\n      var target = $(this.hash)\n      target = target.length ? target : $('[name=' + this.hash.slice(1) +']')\n      if (target.length) {\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 500)\n        return false\n      }\n    }\n  })\n})\n"]}