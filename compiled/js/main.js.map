{"version":3,"sources":["../../js/main.js"],"names":[],"mappings":";;;;AAAA,SAAS,UAAT,CAAoB,UAApB,EAAsE;AAAA,MAAtC,GAAsC,yDAAlC,CAAkC;AAAA,MAA/B,OAA+B,yDAAvB,MAAuB;;AAAA,MAAf,UAAe,yDAAJ,EAAI;;AACpE,MAAI,SAAS;AACX,UAAM,SADK;AAEX,SAAK,yCAFM;AAGX,OAAG,aAAa,SAHL;AAIX,UAAM,OAJK;AAKX,gBAAY,GALD;AAMX,WAAO,OANI;AAOX,gBAAY,IAPD;AAQX,YAAQ,iCACA,qBADA,GAEA,wCAVG;AAWX,eAAW;AAXA,GAAb;AAaA,MAAI,MAAM,8CAAV;AACA,SAAO,CAAC,GAAD,EAAM,MAAN,CAAP;AACD;;AAED,IAAI,cAAc,SAAd,WAAc,CAAS,KAAT,EAAgB,KAAhB,EAAuB;AACvC,SAAO,EAAC,OAAO,KAAR,EAAe,iEAC6B,MAAM,EAAN,CAAS,OADtC,kDAEA,MAAM,OAAN,CAAc,UAAd,CAAyB,IAAzB,CAA8B,GAF9B,4BAEwD,OAFxD,iCAAf,EAAP;AAKD,CAND;;AAQA,IAAI,cAAc,SAAd,WAAc,CAAS,KAAT,EAAgB,KAAhB,EAAuB;AACvC,SAAO,EAAC,OAAO,KAAR,EAAe,iEAC6B,MAAM,EAAN,CAAS,OADtC,uDAEA,MAAM,OAAN,CAAc,UAAd,CAAyB,IAAzB,CAA8B,GAF9B,4BAEwD,OAFxD,2BAGP,MAAM,OAAN,CAAc,KAAd,CAAoB,cAApB,CAAmC,EAAnC,EAAuC,WAAvC,EAHO,mCAAf,EAAP;AAMD,CAPD;;AASA,SAAS,cAAT,CAAwB,GAAxB,EAA6B,MAA7B,EAAqC,EAArC,EAAyC,SAAzC,EAAoD;AAClD,IAAE,GAAF,CAAM,GAAN,EAAW,MAAX,EAAmB,UAAU,IAAV,EAAgB;AACjC,QAAI,WAAW,EAAE,EAAF,CAAf;AACA,aAAS,IAAT,CAAc,EAAd;;AAEA,QAAI,QAAQ,CAAZ;AAJiC;AAAA;AAAA;;AAAA;AAKjC,2BAAkB,KAAK,KAAvB,8HAA8B;AAAA,YAArB,KAAqB;;AAC5B,YAAI,QAAQ,UAAU,KAAV,EAAiB,KAAjB,CAAZ;AACA,gBAAQ,MAAM,KAAd;AACA,YAAI,QAAQ,MAAM,KAAlB;AACA,iBAAS,MAAT,CAAgB,KAAhB;AACD;AAVgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAWlC,GAXD,EAWG,MAXH;AAYD;;AAED,EAAE,YAAY;AACZ,qDAAkB,WAAW,EAAX,CAAlB,UAAkC,iBAAlC,EAAqD,WAArD;;AAEA,IAAE,eAAF,EAAmB,EAAnB,CAAsB,OAAtB,EAA+B,UAAC,CAAD,EAAO;AACpC,MAAE,cAAF;;AAEA,QAAI,aAAa,EAAE,eAAF,EAAmB,GAAnB,EAAjB;AACA,uDAAkB,WAAW,UAAX,CAAlB,UAA0C,iBAA1C,EAA6D,WAA7D;AACD,GALD;AAMD,CATD;;AAYA,OAAO,SAAP,CAAiB,cAAjB,GAAkC,UAAU,GAAV,EAA0B;AAAA,MAAX,GAAW,yDAAP,KAAO;;AAC1D,SAAQ,KAAK,MAAL,GAAc,GAAd,GAAoB,KAAK,SAAL,CAAe,CAAf,EAAkB,GAAlB,IAAyB,GAA7C,GAAmD,IAA3D;AACD,CAFD","file":"main.js","sourcesContent":["function getRequest(searchTerm, max=3, orderby='date', _pageToken='') {\n  let params = {\n    part: 'snippet',\n    key: 'AIzaSyB9evlzwtgDeMvhbSA-zVYUBQf_K1jcWfc',\n    q: searchTerm + ' recipe',\n    type: 'video',\n    maxResults: max,\n    order: orderby,\n    regionCode: 'US',\n    fields: 'nextPageToken,prevPageToken,' +\n            'items(id(videoId)),' +\n            'items(snippet(title,thumbnails(high)))',\n    pageToken: _pageToken\n  }\n  let url = \"https://www.googleapis.com/youtube/v3/search\"\n  return [url, params]\n}\n\nlet thumbRecent = function(value, index) {\n  return {index: index, thumb: `\n          <a href=\"https://www.youtube.com/watch?v=${value.id.videoId}\" target=\"_blank\">\n            <img src=\"${value.snippet.thumbnails.high.url}\" alt=\"recent video ${index++}\">\n          </a>\n        `};\n}\n\nlet thumbResult = function(value, index) {\n  return {index: index, thumb: `\n          <a href=\"https://www.youtube.com/watch?v=${value.id.videoId}\" class=\"recipe-video\">\n            <img src=\"${value.snippet.thumbnails.high.url}\" alt=\"recent video ${index++}\">\n            <p>${value.snippet.title.truncateString(25).toLowerCase()}</p>\n          </a>\n        `};\n}\n\nfunction displayResults(url, params, el, thumbType) {\n  $.get(url, params, function (data) {\n    var $element = $(el)\n    $element.html('')\n\n    let index = 1\n    for (let value of data.items) {\n      let __ret = thumbType(value, index);\n      index = __ret.index;\n      let thumb = __ret.thumb;\n      $element.append(thumb)\n    }\n  }, 'json')\n}\n\n$(function () {\n  displayResults(...getRequest(''), '.recents.videos', thumbRecent)\n\n  $('[name=submit]').on('click', (e) => {\n    e.preventDefault()\n\n    let searchTerm = $('[name=recipe]').val()\n    displayResults(...getRequest(searchTerm), '.results.videos', thumbResult)\n  })\n})\n\n\nString.prototype.truncateString = function (max, add='...') {\n  return (this.length > max ? this.substring(0, max) + add : this)\n}\n"]}